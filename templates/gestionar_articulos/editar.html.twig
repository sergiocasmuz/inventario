{% extends 'base.html.twig' %}

{% block title %}{% endblock %}


{% block body %}

{% set activo = "" %}


    <style media="screen">
      .activo{background: rgb(147, 182, 221)}

      .borrar, .editar{visibility:hidden;}

      tr:hover .editar{visibility: visible;}
      tr:hover .borrar{visibility: visible;}
    </style>
    <br>

    <div class="container">

        <br>
        <section id="tabs">
            <h6 class="section-title h1" style="float:left;">
                Gestión de artículos
            </h6>

            <br>
            <br>
            <br>
            <br>

            <div class="row">
                <div class="col-lg-12 ">
                  <nav>
                    <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                        <a class="nav-item nav-link active" id="nav-vistaPrevia-tab" href="/gestionar/articulos" role="tab" aria-controls="nav-vistaPrevia" aria-selected="true">Artículos</a>
                        <a class="nav-item nav-link" id="nav-cabecera-tab"  href="/gestionar/familias" aria-controls="nav-cabecera" aria-selected="false">Familias</a>
                        <a class="nav-item nav-link" id="nav-editarList-tab"  href="/gestionar/marcas" role="tab" aria-controls="nav-editarList" aria-selected="false">Marcas</a>
                        <a class="nav-item nav-link" id="nav-editarList-tab"  href="/gestionar/dependencias" role="tab" aria-controls="nav-editarList" aria-selected="false">Dependencias</a>
                    </div>
                  </nav>

                    <div class="tab-content py-3 px-3 px-sm-0" id="nav-tabContent">


                        <!-------------------------- tab 1 ---------------------->
                        <div class="tab-pane fade show active" id="nav-vistaPrevia" role="tabpanel" aria-labelledby="nav-vistaPrevia-tab">

                          <div class="row row justify-content-between">

                              <div class="col-8">
                                <br>
                                <h4>Lista de artículos</h4>
                                <br>
                                <table class="table table-hover">

                                  <tr>
                                      <th>Artículo</th>
                                      <th>Familia</th>
                                      <th>Marca</th>
                                      <th>Modelo</th>
                                      <th style="width:100px;"></th>
                                  </tr>
                                    {% for articulo in articulo %}

                                    {% if articulo.id == idArticulo %}
                                      {%  set activo = "activo" %}
                                      {%  else %}
                                      {%  set activo = "" %}

                                    {%  endif %}


                                      <tr class="{{activo}}">
                                        <td>
                                          {{articulo.articulo}}
                                        </td>

                                        <td >
                                          {{articulo.familia}}
                                        </td>

                                        <td>
                                          {{articulo.marca}}
                                        </td>

                                        <td>
                                          {{articulo.modelo}}
                                        </td>

                                        <td style="text-align:right; width:110px;">

                                          <a href="/gestionar/codigos/{{ articulo.id  }}" class="borrar">
                                            <img src="/imagenes/codNegro.png" class ="editar"   data-toggle="modal" data-target="#codModal"  style="cursor:pointer;">
                                          </a>

                                          <a href="/gestionar/articuloBorrar/{{ articulo.id  }}" class="borrar">
                                            <img src="/imagenes/borrar.png">
                                          </a>

                                          <a href="/gestionar/articuloEditar/{{ articulo.id  }}" class ="editar">
                                            <img src="/imagenes/editar.png"  >
                                          </a>

                                        </td>
                                      </tr>
                                    {% endfor %}
                                </table>
                              </div>

                              <div class="col-4"  >

                                <h4>{{articulo|length}} Articulos disponibles</h4>
                                <br>

                                <div class="alert alert-info " >

                                  <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text" id="inputGroup-sizing-default">Buscar</span>
                                    </div>
                                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
                                  </div>

                                </div>

                                  <div class="alert alert-info " >
                                    <p>Editar</p>
                                    <hr>

                                    {{ form_start(formEditar) }}
                                    {{ form_row(formEditar.articulo) }}
                                    {{ form_end(formEditar) }}
                                  </div>
                                </div>



                        </div>

                        <!-------------------------- tab 2 ---------------------->
                        <div class="tab-pane fade" id="nav-cabecera" role="tabpanel" aria-labelledby="nav-cabecera-tab">
                        </div>

                        <!-------------------------- tab 3 ---------------------->
                        <div class="tab-pane fade" id="nav-editarList" role="tabpanel" aria-labelledby="nav-editarList-tab">

                        </div>
                </div>
                </div>

            </div>
        </section>

        <!-- ./Tabs -->

    </div>



{% endblock %}
